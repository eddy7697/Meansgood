!function(e){function i(n){if(t[n])return t[n].exports;var p=t[n]={i:n,l:!1,exports:{}};return e[n].call(p.exports,p,p.exports,i),p.l=!0,p.exports}var t={};i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},i.p="",i(i.s=279)}({1:function(e,i){e.exports=function(e,i,t,n,p,s){var a,r=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(a=e,r=e.default);var l="function"==typeof r?r.options:r;i&&(l.render=i.render,l.staticRenderFns=i.staticRenderFns,l._compiled=!0),t&&(l.functional=!0),p&&(l._scopeId=p);var d;if(s?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=d):n&&(d=n),d){var h=l.functional,g=h?l.render:l.beforeCreate;h?(l._injectStyles=d,l.render=function(e,i){return d.call(i),g(e,i)}):l.beforeCreate=g?[].concat(g,d):[d]}return{esModule:a,exports:r,options:l}}},279:function(e,i,t){e.exports=t(280)},280:function(e,i,t){Vue.component("shipping-method",t(281));new Vue({el:"#shipping-method"})},281:function(e,i,t){var n=t(1)(t(282),t(283),!1,null,null,null);e.exports=n.exports},282:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),$(".loading-bar").fadeOut("100"),i.default={data:function(){return{shippingMehtod:{shippingTitle:null,shippingPrice:null,freeShipping:!1,shippingType:null,shippingTemperature:null,freeShippingMininum:null},editShippingMethod:{shippingTitle:null,shippingPrice:null,freeShipping:!1,shippingType:null,shippingTemperature:null,freeShippingMininum:null},mode:"add",shippingMehtods:[],token:$('meta[name="csrf-token"]').attr("content")}},created:function(){this.getShippingMethod()},computed:{methodTranslate:function(){var e=this.shippingMehtod;return{shippingTitle:e.shippingTitle,shippingPrice:e.shippingPrice,freeShipping:e.freeShipping?1:0,shippingType:e.shippingType,shippingTemperature:e.shippingTemperature,freeShippingMininum:e.freeShippingMininum}},editMethodTranslate:function(){var e=this.editShippingMethod;return e.freeShipping=e.freeShipping?1:0,e}},watch:{shippingMehtod:{handler:function(e,i){"cvs"==e.shippingType&&(e.shippingTemperature="room"),console.log(e)},deep:!0}},methods:{addShippingMethod:function(){var e=this,i=this.token;$(".loading-bar").fadeIn("100"),$.ajax({url:"/admin/shipping/addShippingMethod",type:"POST",dataType:"json",data:e.methodTranslate,beforeSend:function(e){e.setRequestHeader("X-CSRF-TOKEN",i)}}).done(function(){e.showMessage("success","新增運送方式成功。"),e.getShippingMethod(),$("#addShipping").modal("hide"),console.log("success")}).fail(function(){e.showMessage("error","新增運送方式失敗。"),console.log("error")}).always(function(){console.log("complete"),$(".loading-bar").fadeOut("100")})},getShippingMethod:function(){var e=this;$.ajax({url:"/admin/shipping/getShippingMethods",type:"GET",dataType:"json"}).done(function(i){e.shippingMehtods=[],e.shippingMehtods=i.data,console.log("success")}).fail(function(){console.log("error")}).always(function(){console.log("complete")})},editShipping:function(e){$("#editShipping").modal("show"),this.editShippingMethod=e},deleteShipping:function(e){var i=this,t=this.token;confirm("請問是否要刪除此筆運送方式？")&&($(".loading-bar").fadeIn("100"),$.ajax({url:"/admin/shipping/deleteShippingMethod/"+e.id,type:"POST",dataType:"json",beforeSend:function(e){e.setRequestHeader("X-CSRF-TOKEN",t)}}).done(function(){i.showMessage("success","刪除運送方式成功。"),i.getShippingMethod(),console.log("success")}).fail(function(){i.showMessage("error","刪除運送方式失敗。"),console.log("error")}).always(function(){console.log("complete"),$(".loading-bar").fadeOut("100")}))},editShippingMethodAction:function(){var e=this,i=this.token;$(".loading-bar").fadeIn("100"),$.ajax({url:"/admin/shipping/editShippingMethod",type:"POST",dataType:"json",data:e.editMethodTranslate,beforeSend:function(e){e.setRequestHeader("X-CSRF-TOKEN",i)}}).done(function(){e.showMessage("success","編輯運送方式成功。"),e.getShippingMethod(),$("#editShipping").modal("hide"),console.log("success")}).fail(function(){e.showMessage("error","編輯運送方式失敗。"),console.log("error")}).always(function(){console.log("complete"),$(".loading-bar").fadeOut("100")})},showMessage:function(e,i){toastr[e](i)}}}},283:function(e,i){e.exports={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#addShipping","data-backdrop":"static"}},[e._v("\n            新增運費規格\n        ")]),e._v(" "),t("table",{staticClass:"table field-table"},[e._m(0),e._v(" "),t("tbody",e._l(e.shippingMehtods,function(i){return t("tr",[t("td",[e._v(e._s(i.shippingTitle))]),e._v(" "),t("td",[e._v(e._s(i.shippingPrice))]),e._v(" "),t("td",{attrs:{align:"center"}},[t("i",{staticClass:"fa fa-pencil-square-o method-btn",attrs:{"aria-hidden":"true"},on:{click:function(t){e.editShipping(i)}}})]),e._v(" "),t("td",{attrs:{align:"center"}},[t("i",{staticClass:"fa fa-trash method-btn",attrs:{"aria-hidden":"true"},on:{click:function(t){e.deleteShipping(i)}}})])])}))]),e._v(" "),t("div",{staticClass:"modal fade",attrs:{id:"addShipping",tabindex:"-1",role:"dialog","aria-labelledby":"addShippingLabel"}},[t("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t("form",{on:{submit:function(i){i.preventDefault(),e.addShippingMethod(i)}}},[t("div",{staticClass:"modal-content"},[e._m(1),e._v(" "),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"shippingTitle"}},[e._v("運費說明")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.shippingMehtod.shippingTitle,expression:"shippingMehtod.shippingTitle"}],staticClass:"form-control",attrs:{type:"text",id:"shippingTitle",name:"shippingTitle",required:"",autofocus:""},domProps:{value:e.shippingMehtod.shippingTitle},on:{input:function(i){i.target.composing||e.$set(e.shippingMehtod,"shippingTitle",i.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"shippingType"}},[e._v("運送類型")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.shippingMehtod.shippingType,expression:"shippingMehtod.shippingType"}],staticClass:"form-control",attrs:{name:"shippingType",required:""},on:{change:function(i){var t=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.shippingMehtod,"shippingType",i.target.multiple?t:t[0])}}},[t("option",{attrs:{value:"delivery"}},[e._v("宅配運送")]),e._v(" "),t("option",{attrs:{value:"cvs"}},[e._v("超商取貨")])])]),e._v(" "),"delivery"==e.shippingMehtod.shippingType?t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"shippingTemperature"}},[e._v("運送類型")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.shippingMehtod.shippingTemperature,expression:"shippingMehtod.shippingTemperature"}],staticClass:"form-control",attrs:{name:"shippingTemperature",required:""},on:{change:function(i){var t=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.shippingMehtod,"shippingTemperature",i.target.multiple?t:t[0])}}},[t("option",{attrs:{value:"room"}},[e._v("常溫配送")]),e._v(" "),t("option",{attrs:{value:"refrigeration"}},[e._v("低溫配送")])])]):e._e(),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"shippingPrice"}},[e._v("運費金額 NT$")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.shippingMehtod.shippingPrice,expression:"shippingMehtod.shippingPrice"}],staticClass:"form-control",attrs:{type:"number",id:"shippingPrice",name:"shippingPrice",required:"",min:"0"},domProps:{value:e.shippingMehtod.shippingPrice},on:{input:function(i){i.target.composing||e.$set(e.shippingMehtod,"shippingPrice",i.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.shippingMehtod.freeShipping,expression:"shippingMehtod.freeShipping"}],attrs:{type:"checkbox",name:"freeShipping",id:"freeShipping"},domProps:{checked:Array.isArray(e.shippingMehtod.freeShipping)?e._i(e.shippingMehtod.freeShipping,null)>-1:e.shippingMehtod.freeShipping},on:{change:function(i){var t=e.shippingMehtod.freeShipping,n=i.target,p=!!n.checked;if(Array.isArray(t)){var s=e._i(t,null);n.checked?s<0&&(e.shippingMehtod.freeShipping=t.concat([null])):s>-1&&(e.shippingMehtod.freeShipping=t.slice(0,s).concat(t.slice(s+1)))}else e.$set(e.shippingMehtod,"freeShipping",p)}}}),t("label",{attrs:{for:"freeShipping"}},[e._v("免運費")])]),e._v(" "),e.shippingMehtod.freeShipping?t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"freeShippingMininum"}},[e._v("免運額限")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.shippingMehtod.freeShippingMininum,expression:"shippingMehtod.freeShippingMininum"}],staticClass:"form-control",attrs:{type:"number",name:"freeShippingMininum",id:"freeShippingMininum",min:"0"},domProps:{value:e.shippingMehtod.freeShippingMininum},on:{input:function(i){i.target.composing||e.$set(e.shippingMehtod,"freeShippingMininum",i.target.value)}}})]):e._e()]),e._v(" "),e._m(2)])])])]),e._v(" "),t("div",{staticClass:"modal fade",attrs:{id:"editShipping",tabindex:"-1",role:"dialog","aria-labelledby":"editShippingLabel"}},[t("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t("form",{on:{submit:function(i){i.preventDefault(),e.editShippingMethodAction(i)}}},[t("div",{staticClass:"modal-content"},[e._m(3),e._v(" "),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"shippingTitle"}},[e._v("運費說明")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.editShippingMethod.shippingTitle,expression:"editShippingMethod.shippingTitle"}],staticClass:"form-control",attrs:{type:"text",id:"shippingTitle",name:"shippingTitle",required:"",autofocus:""},domProps:{value:e.editShippingMethod.shippingTitle},on:{input:function(i){i.target.composing||e.$set(e.editShippingMethod,"shippingTitle",i.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"shippingType"}},[e._v("運送類型")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.editShippingMethod.shippingType,expression:"editShippingMethod.shippingType"}],staticClass:"form-control",attrs:{name:"shippingType",required:""},on:{change:function(i){var t=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editShippingMethod,"shippingType",i.target.multiple?t:t[0])}}},[t("option",{attrs:{value:"delivery"}},[e._v("宅配運送")]),e._v(" "),t("option",{attrs:{value:"cvs"}},[e._v("超商取貨")])])]),e._v(" "),"delivery"==e.editShippingMethod.shippingType?t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"shippingTemperature"}},[e._v("運送類型")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.editShippingMethod.shippingTemperature,expression:"editShippingMethod.shippingTemperature"}],staticClass:"form-control",attrs:{name:"shippingTemperature",required:""},on:{change:function(i){var t=Array.prototype.filter.call(i.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editShippingMethod,"shippingTemperature",i.target.multiple?t:t[0])}}},[t("option",{attrs:{value:"room"}},[e._v("常溫配送")]),e._v(" "),t("option",{attrs:{value:"refrigeration"}},[e._v("低溫配送")])])]):e._e(),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"shippingPrice"}},[e._v("運費金額 NT$")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.editShippingMethod.shippingPrice,expression:"editShippingMethod.shippingPrice"}],staticClass:"form-control",attrs:{type:"number",id:"shippingPrice",name:"shippingPrice",required:"",min:"0"},domProps:{value:e.editShippingMethod.shippingPrice},on:{input:function(i){i.target.composing||e.$set(e.editShippingMethod,"shippingPrice",i.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.editShippingMethod.freeShipping,expression:"editShippingMethod.freeShipping"}],attrs:{type:"checkbox",name:"freeShipping",id:"freeShipping"},domProps:{checked:Array.isArray(e.editShippingMethod.freeShipping)?e._i(e.editShippingMethod.freeShipping,null)>-1:e.editShippingMethod.freeShipping},on:{change:function(i){var t=e.editShippingMethod.freeShipping,n=i.target,p=!!n.checked;if(Array.isArray(t)){var s=e._i(t,null);n.checked?s<0&&(e.editShippingMethod.freeShipping=t.concat([null])):s>-1&&(e.editShippingMethod.freeShipping=t.slice(0,s).concat(t.slice(s+1)))}else e.$set(e.editShippingMethod,"freeShipping",p)}}}),t("label",{attrs:{for:"freeShipping"}},[e._v("免運費")])]),e._v(" "),e.editShippingMethod.freeShipping?t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"freeShippingMininum"}},[e._v("免運額限")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.editShippingMethod.freeShippingMininum,expression:"editShippingMethod.freeShippingMininum"}],staticClass:"form-control",attrs:{type:"number",name:"freeShippingMininum",id:"freeShippingMininum",min:"0"},domProps:{value:e.editShippingMethod.freeShippingMininum},on:{input:function(i){i.target.composing||e.$set(e.editShippingMethod,"freeShippingMininum",i.target.value)}}})]):e._e()]),e._v(" "),e._m(4)])])])])])])},staticRenderFns:[function(){var e=this.$createElement,i=this._self._c||e;return i("thead",[i("tr",[i("th",[this._v("運送方式")]),this._v(" "),i("th",[this._v("運送費用")]),this._v(" "),i("th",{attrs:{align:"center",width:"40"}},[this._v("操作")]),this._v(" "),i("th",{attrs:{align:"center",width:"40"}},[this._v("刪除")])])])},function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),i("h4",{staticClass:"modal-title",attrs:{id:"addShippingLabel"}},[this._v("運費設定視窗")])])},function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[this._v("關閉")]),this._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("新增設定")])])},function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"modal-header"},[i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),i("h4",{staticClass:"modal-title",attrs:{id:"editShippingLabel"}},[this._v("運費設定視窗")])])},function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[this._v("關閉")]),this._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("儲存設定")])])}]}}});